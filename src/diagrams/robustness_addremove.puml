@startuml
skinparam componentStyle uml2

actor User

' Boundaries
class AddItemBoundary <<boundary>>
class RemoveItemBoundary <<boundary>>

' Controllers
class AddItemController <<control>>
class RemoveItemController <<control>>
class LibraryPrintController <<control>>
class LibraryItemDAO <<control>>

' DTO
class LibraryItemDTO <<dto>>

' Entities
class LibraryItem <<entity>>
class Book <<entity>>
class DVD <<entity>>
class Magazine <<entity>>
class fakedb <<entity>>

' Actor interactions (only to boundaries)
User --> AddItemBoundary : provide item details
User --> RemoveItemBoundary : provide identifier

' Boundaries call controllers (only)
AddItemBoundary -> AddItemController : submitItem(LibraryItemDTO)
RemoveItemBoundary -> RemoveItemController : validateIdentifier(id)

' Controllers work with entities and DAOs (no return flows shown)
AddItemController -> LibraryItemDAO : addItem(LibraryItem)
AddItemController -> LibraryPrintController : printAddConfirmation()
AddItemController -> LibraryItem : createEntityFromDTO(LibraryItemDTO)

RemoveItemController -> LibraryItemDAO : findItem(id)
RemoveItemController -> LibraryItemDAO : removeItem(id)
RemoveItemController -> LibraryPrintController : printRemovalConfirmation()

note right of AddItemController
  Control: validates DTO, creates Entity, instructs DAO
end note

note right of RemoveItemController
  Control: looks up, confirms and instructs DAO to remove
end note

note left of LibraryItemDAO
  DAO: handles persistence lookup and deletion
end note

' Entity specialization
LibraryItem <|-- Book
LibraryItem <|-- DVD
LibraryItem <|-- Magazine

@enduml
